/*
 * Name: [Project name]
 * Version: 1.0
 * Owner: Corporate Webmaster (NUS_N_NIWWW)
 * Copyright (c) 2013 IBM Corporation
 */

// URI: [File location on live site]
// Description: [JS Customization for "Project name"]
// Author: [Name and Lotus Notes address of JS author]
// Date: [Date of file edits] (e.g. July 30, 2013)
//


	var myApp = angular.module('myApp', ['ngRoute', 'ngResource']); //[if you have supporting modules dependencies add it inside the square brackets] 
	
	myApp.config(['$routeProvider',function($routeProvider){
		$routeProvider
			.when('/',
			{
				templateUrl: 'partials/tt.html',
				controller: 'vTrendingTopics'
			})
			.otherwise({redirectTo: '/'});
	}]);

	myApp.controller('vTrendingTopics', ['$scope', '$http', '$resource', function($scope, $http, $resource){
		// $scope.tt = ttfactory.gettrjson;
		$http.get('tt.json')
			.success(function(data) {
	 			$scope.tt = data.trending.split(",");
	 		})
	 		.error(function(data) {
	 			console.log("Not found");
		});

	 	$scope.trendingFilter = $resource('https://api.twitter.com/1.1/search/:action', 
	 		{action:'tweet.json', q:'analytics', count:'20', callback:'JSON_CALLBACK'},
	 		{get:{method:'JSONP'}
	 	});

	 	$scope.trendingFilterResults = $scope.trendingFilter.get();
	 	console.log($scope.trendingFilterResults.results);
	}]);
